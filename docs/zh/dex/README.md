# DEX 文档

## 特点

* **完全去中心化**
  * 交易撮合链上实现
  * 手续费分红链上实现
  * 上币链上实现，支付10000 VITE即可上币
* **运营去中心化** 
  * 任何人可当 ***运营商***
  * 运营商具有以下权限：手续费调整、暂停交易、开通交易
  * 运营商功能均在链上实现
* **通过五种方式挖矿来发行ViteX Coin**

## ViteX Coin （VX）

VX是ViteX交易所发行的新的代币，持有VX的用户会终身享受到交易所每天的**交易手续费**和**开通交易对手续费**的分红。

### VX 信息

* **总量**：  ***1亿*** （无增发）
* **最小单位**：$10^{-18}$
* **功能**：持有VX的用户可享受到交易所每天的**交易手续费**和**开通交易对手续费**的分红，并参与到交易所的**去中心化的社区治理**
* **发行方式**：***无预挖、预售，不接受投资***，用户只能通过以下五种挖矿获得。
  * 交易即挖矿：参与交易所交易，即可获得VX，VX可以持续的享受交易所的交易手续费分红。
  * 抵押挖矿：为交易所抵押VITE获得交易所运行的配额，可以获取VX代币。
  * 邀请即挖矿：邀请好友交易，好友享手续费9折，邀请人获得好友的交易手续费5%的挖矿额度。
  * 挂单挖矿：在四个基础市场挂单，享受每日总挖矿额度的10%，每个市场2.5%。
  * 上币即挖矿：注册成为运营商，既收项目方上币费，又拿VX奖励
* **释放曲线**：分两年发放，每天发放数量按比例递减。
  
### VX 释放曲线

VX总量1亿，分2年挖矿解锁，每天会有固定的数量的VX释放出来，释放规则如下：

#### 衰减方案

* 第一年：每天衰减**0.5%**，第一天释放477032.36，最后一天释放76939.48
* 第二年：每天衰减**0.2%**，第一天释放76785.60，最后一天释放37050.73

![](~/images/vx-distribute-curve.png)

### VX 分配方案

每天释放的VX按以下比例分配：

* 交易挖矿：***60%***
  * BTC 市场的交易挖矿：***15%***
  * ETH 市场的交易挖矿：***15%***
  * VITE 市场的交易挖矿：***15%***
  * 美元稳定币市场的交易挖矿：***15%***
* 抵押挖矿：***20%***
* 团队：***10%***
* 挂单挖矿：***10%***

### VX 手续费分红

每天系统将会把**分红池**的 **1%** 的币按照VX持币量分红给所有VX用户。初始分红池的资金为0。

**以下资金会进入到分红池：**

* 交易所的产生的所有**基础手续费**（给运营商的手续费除外）
* 开通交易对时，缴纳的10000 VITE 上币费，其中 **5000 VITE** 进入分红池
* 生成邀请码缴纳的 **1000 VITE** 费用

## 挖矿方案

### 交易挖矿

用户在4 个基础交易市场（BTC、ETH、VITE、美元稳定币）交易，可获得对应基础市场的VX奖励。

* **每日释放量**： ViteX分为4个基础交易市场（***BTC、ETH、VITE、美元稳定币***），每个交易市场分别计算交易挖矿，每个市场每天VX挖矿份额为：当日VX释放量的15%
* **如何参与**：用户在 ***可挖矿*** 的交易对上交易才可参与**交易挖矿**
* **每个基础市场的分配规则**：

  按照当天用户在 **该基础市场** 里产生的 **挖矿手续费占比** 分VX给参与交易的用户。
    
    
### 抵押挖矿

用户抵押Vite给交易所合约，可以给交易所提供配额，而相应的，作为回馈，抵押Vite给交易所合约的用户可以获得一定量的VX作为奖励。

* **每日释放量**： 当日VX释放总量的 ***20%***
* **如何参与**：抵押Vite给交易所合约
* **抵押数量**：每个用户最小抵押金额：**134** VITE，抵押上限：无限制
* **抵押时间**：抵押时长无限制，用户想要取回抵押，需等待**三天**才可取回，注意：***取回抵押之后将无法继续参与抵押挖矿，若想再次参与，需再次抵押。***
* **分配规则**：按照每个用户抵押金额占比来计算挖矿所得的VX数量
  
### 挂单挖矿

用户可以在一定的价格区域内挂单，可以获得VX奖励，**挂单金额越大，时间越长，挂单位置越靠近卖单**，奖励越多。

* **每日释放量**：当日VX释放总量的**10%**，每个基础市场（四个基础市场：BTC/ETH/VITE/美元稳定币）瓜分 **2.5%** 份额
* **如何参与**：
  * 用户在 ***可挖矿*** 的交易对上挂单才可参与**挂单挖矿**
  * 只有**买单**才能参与挖矿
  * 在卖一价向下浮动 10%（不同交易对浮动区间不同），这个区间称为**挖矿区间**，只有订单处于该区间内才能挖矿。
* **计算规则**：
  
  ::::tabs
  :::tab 简单描述
  用户挂单挖矿所得的VX数量和**挂单金额，挂单时间**成线性关系，和**挂单等级**成指数关系。
  
  挂单金额和挂单时间相同的情况下，挂单等级第一档所得的vx和第十档所得得vx相差100倍。我们的目的是尽量鼓励用户向盘口挂单。
  :::
  
  :::tab 计算公式

  **名词解释**：
    * **挂单挖矿档位**：把**挖矿区间**均分分为**10档**，距离卖一越近的，挖矿权重越高，一档权重为 $0.6^1$，二挡权重为 $0.6^2$ ...... 第10档权重为 $0.6^{10}$
      
    * **挂单时长**：某订单在 **挖矿区间** 持续的时间，超过**300**秒才作为有效时长。如果挂单时长低于**300**秒，则不计入挂单挖矿。
    
    * **挂单金额**（$a$）：用户在某一个时间范围内的未成交金额，只记录基础币金额
        
    * **挂单等级**（$g$）：用户当前挂买单与当前深度卖一订单的偏离度，偏离度 = （卖一价 - 买单价格) / 卖一价，当偏离度在10%（不同交易对范围不同）范围内才可以挖矿，且共均分为10个等级

    * **挂单恒定时间**（$t$）：指某订单在挂单金额（$a$）和挂单等级（$g$）**恒定不变**的情况下**持续存在的时间**，这个时间和上面提到的挂单时长（$T$）不一样, 某个订单挂单时长为挂单恒定时间的累加。
      
      $T = t_1 + t_2 + t_3 + ... t_n$
      
      若某订单的挂单时长低于**300**秒，则该订单视为无效订单。
      
      例如，用户在10:00:00了一个买入vite的订单，买入价：10，数量：500
      
      在10:01:00时刻，该订单被吃掉了一部分，还剩下数量：250，则此时，该订单的挂单金额变化了。
      
      在10:02:30时刻，该订单完全被吃掉，剩下数量：0，此时，该订单的挂单金额再次变化。
      
      假设在10:00:00 ~ 10:02:30区间内，**挂单等级**（$g$）未改变，则有以下**挂单恒定时间**：
      
        * 10:00:00 ~ 10:01:00时间段，有一个挂单恒定时间，时长为：60 秒
        * 10:01:00 ~ 10:02:30时间段，有一个挂单恒定时间，时长为：150 秒
            
    * **挖矿基数**（$m$）：挂单挖矿的一个量化指标，基数受到**挂单恒定时间**（$t$），**挂单金额**（$a$），**挂单等级**（$g$）三个因素影响
      
      $m = t * a * 0.6^g$
      
    * $M$：该基础交易市场下，该用户当日在所有订单挂单挖矿基数的总和。
    
      $M = m_1+ m_2 + m_3 + .....m_n$
      
    * $V$：用户当日在该基础交易市场下的挖矿所得的VX数量
    
    * $M_{all}$：该基础交易市场下，所有用户的挖矿基数的总和。
    
    * $H$：当日VX释放总量
      
  **计算**：
    
    $V =  \frac{M} { M_{all}} *0.025*H$   
  :::
  ::::
  
### 邀请挖矿
  
  用户可生成邀请码，邀请好友加入ViteX平台，
  被邀请人将享受手续费**永久**9折优惠（总手续费基础上9折：运营商手续费+基础手续费），邀请人可**永久**获得得被邀请人产生的交易手续费的 **5%** 的挖矿额度。
  
  * **如何参与**：
    * 填写 google 表单，申请邀请码。
    * 邀请好友加入ViteX平台，好友填写邀请码
    
  :::warning 注意
  用户申请邀请码的功能，初期将不会开放，用户想要生成邀请码，需要向官方发起申请。
  
  若同时用户是VIP用户（基础手续费减免0.1%），则计算手续费时，先减免0.1%，之后在这个基础上打9折。
  :::  
    
  * **计算规则**：
  
    邀请人将获得被邀请人每日产生的挖矿手续费的5%，作为自己的**额外挖矿手续费**，将额外获得该挖矿手续费对应比例的VX。
    
    举例一：用户小王邀请小红，假设当日小红产生100 VITE挖矿手续费，小王没有参与交易挖矿（挖矿手续费为0），但是小王邀请了小红，
    小王将获得**额外的5 VITE**（小红挖矿手续费的5%）作为挖矿手续费。所以，当日小王的挖矿手续费为5 VITE，小红为100VITE。
    
### 上币挖矿
  
  在ViteX开通交易对，只需缴纳10000 VITE，其中5000 VITE销毁，5000 VITE归入分红池，并产生1000 VITE 的挖矿手续费（即等同于：该上币用户参与交易挖矿产生了 1000 VITE 的挖矿手续费）。
  
  上币所获得的VX为：（1000 VITE / VITE基础市场所有的**挖矿手续费**） * 0.15 * 当日VX释放量 
