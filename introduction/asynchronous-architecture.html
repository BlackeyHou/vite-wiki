<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Asynchronous Architecture | VITE Document</title>
    <meta name="description" content="A Next Generation High-performance Decentralized Application Platform">
    <link rel="icon" href="/icon.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.b186a0e7.css" as="style"><link rel="preload" href="/assets/js/app.48bcc568.js" as="script"><link rel="preload" href="/assets/js/9.a067193d.js" as="script"><link rel="prefetch" href="/assets/js/12.ee48bf4f.js"><link rel="prefetch" href="/assets/js/2.a37242be.js"><link rel="prefetch" href="/assets/js/3.d2cccde5.js"><link rel="prefetch" href="/assets/js/4.fba3231f.js"><link rel="prefetch" href="/assets/js/5.99d59da1.js"><link rel="prefetch" href="/assets/js/6.a3993d1b.js"><link rel="prefetch" href="/assets/js/7.d61bd8f4.js"><link rel="prefetch" href="/assets/js/8.ac992d09.js"><link rel="prefetch" href="/assets/js/10.c6d20c7a.js"><link rel="prefetch" href="/assets/js/11.b607b69e.js"><link rel="prefetch" href="/assets/js/13.bfee44f6.js"><link rel="prefetch" href="/assets/js/14.01a546c1.js"><link rel="prefetch" href="/assets/js/15.4a0f42cf.js"><link rel="prefetch" href="/assets/js/16.bda3452e.js"><link rel="prefetch" href="/assets/js/17.09825a5c.js"><link rel="prefetch" href="/assets/js/18.df5bd5ff.js"><link rel="prefetch" href="/assets/js/19.8111046b.js"><link rel="prefetch" href="/assets/js/20.14df2add.js"><link rel="prefetch" href="/assets/js/21.1459814d.js"><link rel="prefetch" href="/assets/js/22.07491ec7.js"><link rel="prefetch" href="/assets/js/23.a95670d9.js"><link rel="prefetch" href="/assets/js/24.71a22121.js"><link rel="prefetch" href="/assets/js/25.f7d310f5.js"><link rel="prefetch" href="/assets/js/26.726c4a77.js"><link rel="prefetch" href="/assets/js/27.34967273.js"><link rel="prefetch" href="/assets/js/28.6bc4fdeb.js"><link rel="prefetch" href="/assets/js/29.540f7860.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f7d259d9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b186a0e7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo_black.svg" alt="VITE Document" class="logo"> <span class="site-name can-hide">VITE Document</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/introduction/" class="nav-link router-link-active">Introduction</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/introduction/asynchronous-architecture.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/introduction/asynchronous-architecture.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/vitelabs/go-vite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/introduction/" class="nav-link router-link-active">Introduction</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/introduction/asynchronous-architecture.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/introduction/asynchronous-architecture.html" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/vitelabs/go-vite" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Introduction</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/introduction/" class="sidebar-link">Introduction</a></li><li><a href="/introduction/dag-ledger.html" class="sidebar-link">DAG Ledger</a></li><li><a href="/introduction/asynchronous-architecture.html" class="active sidebar-link">Asynchronous Architecture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/introduction/asynchronous-architecture.html#the-model-of-asynchronous-requests" class="sidebar-link">The Model of Asynchronous Requests</a></li><li class="sidebar-sub-header"><a href="/introduction/asynchronous-architecture.html#the-model-of-asynchronous-confirmation" class="sidebar-link">The Model of Asynchronous Confirmation</a></li><li class="sidebar-sub-header"><a href="/introduction/asynchronous-architecture.html#the-model-of-asynchronous-communication" class="sidebar-link">The Model of Asynchronous Communication</a></li></ul></li><li><a href="/introduction/other.html" class="sidebar-link">Other Designs</a></li><li><a href="/introduction/vite-token.html" class="sidebar-link">Vite Tokens</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="asynchronous-architecture"><a href="#asynchronous-architecture" aria-hidden="true" class="header-anchor">#</a> Asynchronous Architecture</h1> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This document is only for introduction. if you need more detail on vite, please move to <a href="https://www.vite.org/whitepaper/vite_en.pdf" target="_blank" rel="noopener noreferrer">White Paper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p>The following are the main asynchronous characteristics in Vite’s designs:</p> <ul><li>Asynchronous model of requests and responses</li> <li>Asynchronous model of writing and confirmation of transactions</li> <li>Asynchronous model of communications between contracts</li></ul> <h2 id="the-model-of-asynchronous-requests"><a href="#the-model-of-asynchronous-requests" aria-hidden="true" class="header-anchor">#</a> The Model of Asynchronous Requests</h2> <p>Transactions in Vite can be categorized as request transactions and response transactions.  Regardless of whether an event is a transfer or the call of a contract, two successive transactions get generated on the ledger.</p> <p><img src="/assets/img/async-transaction.8629f39f.png" alt="异步请求图解"></p> <p>A transfer can be split into a receive transaction and a send transaction; a transaction to invoke a contract can be split into a contract request transaction and a contract response transaction; the message call within each contract can be split into a request transaction and a response transaction.</p> <p>After the split, each transaction only affects the state of a single account, and transactions do not interfere with one another, which improves throughput.  In addition, transactions by different accounts are also allocated to different nodes in the network, thereby increasing scalability.</p> <h2 id="the-model-of-asynchronous-confirmation"><a href="#the-model-of-asynchronous-confirmation" aria-hidden="true" class="header-anchor">#</a> The Model of Asynchronous Confirmation</h2> <p>In the Vite framework, writing transactions into a ledger and receiving confirmations by the system are also asynchronous.  Different users may write transactions into the ledger in parallel., and the snapshot chain will take snapshots of the ledger at a constant rate.  A confirmation happens once a snapshot of a transaction is taken.  As the snapshot chain grows, the number of confirmations will also increase.</p> <p><img src="/assets/img/async-confirm.6379a9bb.png" alt="异步确认图解"></p> <p>The mechanism of asynchronous confirmation will reduce the peaks and troughs of the speed of transaction writing, thus optimizing usage of resources.</p> <p>Vite employs a hierarchical HDPoS consensus algorithm. Each account chain in the ledger generates local consensus results,  and the snapshot chain at the highest level selects the final consensus result from the local consensus results.</p> <h2 id="the-model-of-asynchronous-communication"><a href="#the-model-of-asynchronous-communication" aria-hidden="true" class="header-anchor">#</a> The Model of Asynchronous Communication</h2> <p>Vite's inter-contract communications incorporate a message-driven architecture, where the contracts do not share states but only communicate by sending messages to each other.</p> <p><img src="/assets/img/async-contract.eae2bf68.png" alt="异步通信模型图解"></p> <p>If a contract calls another contract, the former needs to send a request transaction first. This is logically similar to producing a message in MQ.  After the node running the target contract observes the request transaction, the node writes a corresponding response transaction in the ledger, and updates the state of the contract. This process is equivalent to consuming a message from MQ.if a return value is needed,  the target contract will send another message to the source contract in the same way.</p> <p>In this model, Vite's ledger serves the role of the message middleware, and can guarantee the exactly-once semantics of messages.</p> <p>The message-based architecture features high throughput and scalability.  But on the flip side, the programming models become more complex. Not only is strong consistency not guaranteed, but latencies may become longer.</p> <p>To address the above issues and reduce the cost of asynchronous programming, Vite will provide a contract language called Solidity++ and a full SDK associated with it. After rigorous research, we found that in actual scenarios , BASE semantics can replace ACID semantics. The increase in delay is still under control since the HDPoS consensus algorithm guarantees completion of the transaction confirmation  within 1 second.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/vitelabs/doc.vite.org/edit/master/docs/introduction/asynchronous-architecture.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/27/2018, 8:50:52 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/introduction/dag-ledger.html" class="prev">
          DAG Ledger
        </a></span> <span class="next"><a href="/introduction/other.html">
          Other Designs
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/9.a067193d.js" defer></script><script src="/assets/js/app.48bcc568.js" defer></script>
  </body>
</html>
